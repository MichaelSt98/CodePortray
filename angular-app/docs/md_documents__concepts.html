<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CodePortray</title>
	<base href="/">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--
	<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=9"/>
	-->
	<meta name="generator" content="Doxygen 1.9.3"/>
	<title>milupHPC: Concepts</title>
	<title>Concepts</title>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Alata&amp;display=swap" rel="stylesheet">
	<link rel="stylesheet" href="components/side-nav/styles.css">
	<link rel="stylesheet" href="components/hamburger/styles.css">
	<link rel="stylesheet" href="components/header/styles.css">
	<link rel="stylesheet" href="components/icons/styles.css">
	<link rel="stylesheet" href="components/dialog/styles.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<script type="text/javascript" src="jquery.js"></script>
	<script type="text/javascript" src="dynsections.js"></script>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
	<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
	<link href="doxygen-custom.css" rel="stylesheet" type="text/css" />
</head>
<body>
	<custom-header class="custom-header-class">
		<custom-hamburger menu onclick="toggle()"></custom-hamburger>
		<div shortcuts>
			<a href="https://www.google.com"><custom-icon icon="facebook" color="white" background="#3B5998"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="twitter" color="white" background="#55ACEE"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="youtube" color="white" background="#DB0000"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="linkedin" color="white" background="#3B67BE"></custom-icon></a>
			<!--<a href="https://www.google.com"><custom-icon icon="share-alt" color="white" background="darkgrey"></custom-icon></a>-->
			<custom-dialog window-width="600px" window-height="400px">
				<div open><custom-icon icon="share-alt" color="white" background="darkgrey"></custom-icon></div>
				<div>test 1</div>
				<div>test 2</div>
				<div>test 3</div>
				<div>test 4</div>
			</custom-dialog>
			<a href="https://www.google.com"><custom-icon icon="github" color="white" background="#2A2D32"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="university" color="white" background="#8D2439"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="wikipedia-w" color="black" background="lightgrey"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="slack" color="white" background="#421B4B"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="home" color="white" background="black"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="cogs" color="white" background="black"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="bars" color="white" background="black"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="code" color="white" background="black"></custom-icon></a>
			<a href="https://www.google.com"><custom-icon icon="terminal" color="white" background="black"></custom-icon></a>
		</div>
	</custom-header>
	<!--
	<custom-side-nav id="side-nav" nav-width="300">
		<custom-icon url="https://www.google.com" icon="code" color="white" background="black"></custom-icon>
		<div>test</div>
	</custom-side-nav>
	-->
	<div id="banner">
		<div class="logo">
			<span class="subtitle">
				milupHPC documentation
			</span>
		</div>
	<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Concepts </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >$\frac{dv}{dt} = \frac{1}{\rho} \vec{\nabla} \vec{\sigma}$</p>
<p >$\frac{d\rho}{dt} = -\rho \nabla \vec{v}$</p>
<ul>
<li>not necessary anymore:<ul>
<li><code>#INTEGRATE_ENERGY</code>: always</li>
<li><code>#ARTIFICIAL_VISCOSITY</code>: always</li>
<li><code>#AVERAGE_KERNELS</code>: always</li>
<li>..</li>
</ul>
</li>
<li><code>#SELF_GRAVITY</code><ul>
<li>if not used, use tree for <a class="el" href="namespace_s_p_h.html">SPH</a> (NNS)</li>
</ul>
</li>
<li><code>#HYDRO</code><ul>
<li>simplest case: density not integrated, but calculated from masses</li>
</ul>
</li>
<li><code>#INTEGRATED_DENSITY</code> for hydro and solid<ul>
<li>$\frac{d\rho}{dt} = -\rho \nabla \vec{v}$<ul>
<li><b>calculate</b> or save? <br  />
</li>
</ul>
</li>
</ul>
</li>
<li><code>#SOLID</code></li>
<li><code>#POROSITY</code> for hydro and solid<ul>
<li>models: stress p-alpha, psilon p-alpha,</li>
</ul>
</li>
<li><code>#PLASTICITY</code><ul>
<li>do not distinguish between different models (via compiler directives)</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md44"></a>
Settings, ...</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#ifdef SINGLE_PRECISION</span></div>
<div class="line">    <span class="keyword">typedef</span> <span class="keywordtype">float</span> <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>;</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">    <span class="keyword">typedef</span> <span class="keywordtype">double</span> <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>;</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="parameter_8h.html#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a>;</div>
<div class="line"><span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code hl_typedef" href="parameter_8h.html#a2d83a9d6677f42e2572510c1a14e58ed">keyType</a>;</div>
<div class="line"><span class="keyword">typedef</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="parameter_8h.html#ae84a801cb4761e9d8f613b66a73c4b98">idInteger</a>;</div>
<div class="ttc" id="aparameter_8h_html_a11d147c64891830c9e79b3315b1b2e21"><div class="ttname"><a href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a></div><div class="ttdeci">double real</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00015">parameter.h:15</a></div></div>
<div class="ttc" id="aparameter_8h_html_a2d83a9d6677f42e2572510c1a14e58ed"><div class="ttname"><a href="parameter_8h.html#a2d83a9d6677f42e2572510c1a14e58ed">keyType</a></div><div class="ttdeci">unsigned long keyType</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00018">parameter.h:18</a></div></div>
<div class="ttc" id="aparameter_8h_html_a3b6ee100a473e8866bcea6d1fc4041d9"><div class="ttname"><a href="parameter_8h.html#a3b6ee100a473e8866bcea6d1fc4041d9">integer</a></div><div class="ttdeci">int integer</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00017">parameter.h:17</a></div></div>
<div class="ttc" id="aparameter_8h_html_ae84a801cb4761e9d8f613b66a73c4b98"><div class="ttname"><a href="parameter_8h.html#ae84a801cb4761e9d8f613b66a73c4b98">idInteger</a></div><div class="ttdeci">int idInteger</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00019">parameter.h:19</a></div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#define MAX_LEVEL 21</span></div>
<div class="line"><span class="preprocessor">#define DEBUGGING 0</span></div>
<div class="line"><span class="preprocessor">#define SAFETY_LEVEL 2</span></div>
<div class="line"><span class="preprocessor">#define DIM 3 </span><span class="comment">// dimension of the problem</span></div>
<div class="line"><span class="preprocessor">#define power_two(x) (1 &lt;&lt; (x))</span></div>
<div class="line"><span class="preprocessor">#define POW_DIM power_two(DIM)</span></div>
<div class="line"><span class="preprocessor">#define SI_UNITS 1 </span><span class="comment">// [0]: natural units, [1]: SI units</span></div>
<div class="line"><span class="preprocessor">#define CUBIC_DOMAINS 1 </span><span class="comment">// [0]: rectangular (and not necessarily cubic domains), [1]: cubic domains</span></div>
<div class="line"><span class="preprocessor">#define GRAVITY_SIM 1 </span><span class="comment">// Simulation with gravitational forces</span></div>
<div class="line"><span class="preprocessor">#define SPH_SIM 1 </span><span class="comment">// // SPH simulation</span></div>
<div class="line"><span class="preprocessor">#define INTEGRATE_ENERGY 0 </span><span class="comment">// integrate energy equation</span></div>
<div class="line"><span class="preprocessor">#define INTEGRATE_DENSITY 1 </span><span class="comment">// integrate density equation</span></div>
<div class="line"><span class="preprocessor">#define INTEGRATE_SML 0 </span><span class="comment">// integrate smoothing length</span></div>
<div class="line"><span class="preprocessor">#define VARIABLE_SML 1 </span><span class="comment">// variable smoothing length</span></div>
<div class="line">...</div>
<div class="line"><span class="comment">// * **SPH_EQU_VERSION 1:** original version with</span></div>
<div class="line"><span class="comment">// * **SPH_EQU_VERSION 2:** slighty different version with</span></div>
<div class="line">#define <a class="code hl_define" href="parameter_8h.html#adfcbe08a8478076a0a1e81f0f18a5eec">SPH_EQU_VERSION</a> 1</div>
<div class="ttc" id="aparameter_8h_html_adfcbe08a8478076a0a1e81f0f18a5eec"><div class="ttname"><a href="parameter_8h.html#adfcbe08a8478076a0a1e81f0f18a5eec">SPH_EQU_VERSION</a></div><div class="ttdeci">#define SPH_EQU_VERSION</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00081">parameter.h:81</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md45"></a>
Important classes (attributes)</h2>
<p ><a class="el" href="class_particle.html">Particle</a> class:</p>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *mass; <span class="comment">// mass</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *x; <span class="comment">// position</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *vx; <span class="comment">// velocity</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *ax; <span class="comment">// acceleration</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *g_ax; <span class="comment">// gravitational acceleration</span></div>
<div class="line">...</div>
<div class="line">int *nodeType; <span class="comment">// particle, pseudo-particle, (lowest) domain list</span></div>
<div class="line"><span class="keywordtype">int</span> *level;</div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#ae84a801cb4761e9d8f613b66a73c4b98">idInteger</a> *uid; <span class="comment">// unique identifier (unsigned int/long?)</span></div>
<div class="line"><span class="keywordtype">int</span> *materialId; <span class="comment">// material identfier (e.g.: ice, basalt, ...)</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *sml; <span class="comment">// smoothing length</span></div>
<div class="line"><span class="keywordtype">int</span> *nnl; <span class="comment">// near neighbor list</span></div>
<div class="line"><span class="keywordtype">int</span> *noi; <span class="comment">// number of interactions </span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *e; <span class="comment">// internal energy</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *dedt; <span class="comment">// time derivative of the internal energy</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *cs; <span class="comment">// soundspeed</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *rho; <span class="comment">// density</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="map__sph__to__grid_8c.html#a3f1c0a90efc4ed86c4fe31e787c8e90a">p</a>; <span class="comment">// pressure</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *muijmax; <span class="comment">// needed for artificial viscosity</span></div>
<div class="line">...</div>
<div class="ttc" id="amap__sph__to__grid_8c_html_a3f1c0a90efc4ed86c4fe31e787c8e90a"><div class="ttname"><a href="map__sph__to__grid_8c.html#a3f1c0a90efc4ed86c4fe31e787c8e90a">p</a></div><div class="ttdeci">struct Particle p</div></div>
</div><!-- fragment --><p ><a class="el" href="class_tree.html">Tree</a> class:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> *child; <span class="comment">// children/child nodes or leaves </span></div>
<div class="line"><span class="keywordtype">int</span> *sorted; <span class="comment">// sorted (indices) for better cache performance</span></div>
<div class="line"><span class="keywordtype">int</span> *toDeleteLeaf; <span class="comment">// index for rebuilding tree</span></div>
<div class="line"><span class="keywordtype">int</span> *toDeleteNode; <span class="comment">// old index for rebuilding tree</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *minX; <span class="comment">// bounding box minimal x</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *maxX; <span class="comment">// bounding box maximum x</span></div>
<div class="line">...</div>
</div><!-- fragment --><p ><a class="el" href="class_sub_domain_key_tree.html">SubDomainKeyTree</a> class:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> rank; <span class="comment">// mpi rank</span></div>
<div class="line"><span class="keywordtype">int</span> numProcesses; <span class="comment">// mpi comm size</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a2d83a9d6677f42e2572510c1a14e58ed">keyType</a> *range; <span class="comment">// sfc ranges, mapping key ranges/borders to MPI processes</span></div>
<div class="line"><span class="keywordtype">int</span> *procParticleCounter; <span class="comment">// particle counter in dependence of MPI process(es)</span></div>
</div><!-- fragment --><p ><a class="el" href="class_domain_list.html">DomainList</a>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> *domainListIndices; <span class="comment">// domain list node indices</span></div>
<div class="line"><span class="keywordtype">int</span> *domainListLevels; <span class="comment">// domain list node levels</span></div>
<div class="line"><span class="keywordtype">int</span> *domainListIndex; <span class="comment">// domain list node index, thus amount of domain list nodes</span></div>
<div class="line"><span class="keywordtype">int</span> *domainListCounter; <span class="comment">// domain list node counter, usable as buffer</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a2d83a9d6677f42e2572510c1a14e58ed">keyType</a> *domainListKeys; <span class="comment">// domain list node keys</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a2d83a9d6677f42e2572510c1a14e58ed">keyType</a> *sortedDomainListKeys; <span class="comment">// sorted domain list node keys for sorting the keys</span></div>
<div class="line"><span class="keywordtype">int</span> *relevantDomainListIndices; <span class="comment">// reduce/collect info in respect to some criterion</span></div>
<div class="line"><span class="keywordtype">int</span> *relevantDomainListLevels;</div>
<div class="line"><span class="keywordtype">int</span> *relevantDomainListProcess;</div>
</div><!-- fragment --><p >Materials:</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="struct_artificial_viscosity.html">ArtificialViscosity</a> {</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_variable" href="struct_artificial_viscosity.html#a56176005eadd2032dee288313ef1aac7">alpha</a>;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_variable" href="struct_artificial_viscosity.html#a618e59eb7922f24f6239133b588eabf4">beta</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="struct_eq_of_st.html">EqOfSt</a> {</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="struct_eq_of_st.html#a988ee5d999f873472a4410e2a6ffb7cb">type</a>;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_variable" href="struct_eq_of_st.html#a200c9ed258eed6836aea8d5837672c5f">polytropic_K</a>;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_variable" href="struct_eq_of_st.html#a62fb78ac6e160a5311d2864793036a14">polytropic_gamma</a>;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_material.html">Material</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_material.html#a1f397e9734e509ab35c55decfccbfe94">ID</a>; <span class="comment">// unique identifier</span></div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_material.html#a597ac306ea6db23adece61f32a44d364">interactions</a>; <span class="comment">// max number of interactions (SPH)</span></div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_variable" href="class_material.html#ab64d4f97266a1a6ee34962a0b0fb6167">sml</a>; <span class="comment">// smoothing length</span></div>
<div class="line">  <a class="code hl_struct" href="struct_artificial_viscosity.html">ArtificialViscosity</a> <a class="code hl_variable" href="class_material.html#adb346965db8045260e172bd05d06dbc9">artificialViscosity</a>; </div>
<div class="line">  <a class="code hl_struct" href="struct_eq_of_st.html">EqOfSt</a> <a class="code hl_variable" href="class_material.html#a9bc48696ef9773ab855d3fe20e49aad8">eos</a>;</div>
<div class="line">};</div>
<div class="ttc" id="aclass_material_html"><div class="ttname"><a href="class_material.html">Material</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00056">material.cuh:56</a></div></div>
<div class="ttc" id="aclass_material_html_a1f397e9734e509ab35c55decfccbfe94"><div class="ttname"><a href="class_material.html#a1f397e9734e509ab35c55decfccbfe94">Material::ID</a></div><div class="ttdeci">integer ID</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00071">material.cuh:71</a></div></div>
<div class="ttc" id="aclass_material_html_a597ac306ea6db23adece61f32a44d364"><div class="ttname"><a href="class_material.html#a597ac306ea6db23adece61f32a44d364">Material::interactions</a></div><div class="ttdeci">integer interactions</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00072">material.cuh:72</a></div></div>
<div class="ttc" id="aclass_material_html_a9bc48696ef9773ab855d3fe20e49aad8"><div class="ttname"><a href="class_material.html#a9bc48696ef9773ab855d3fe20e49aad8">Material::eos</a></div><div class="ttdeci">EqOfSt eos</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00076">material.cuh:76</a></div></div>
<div class="ttc" id="aclass_material_html_ab64d4f97266a1a6ee34962a0b0fb6167"><div class="ttname"><a href="class_material.html#ab64d4f97266a1a6ee34962a0b0fb6167">Material::sml</a></div><div class="ttdeci">real sml</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00073">material.cuh:73</a></div></div>
<div class="ttc" id="aclass_material_html_adb346965db8045260e172bd05d06dbc9"><div class="ttname"><a href="class_material.html#adb346965db8045260e172bd05d06dbc9">Material::artificialViscosity</a></div><div class="ttdeci">ArtificialViscosity artificialViscosity</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00075">material.cuh:75</a></div></div>
<div class="ttc" id="astruct_artificial_viscosity_html"><div class="ttname"><a href="struct_artificial_viscosity.html">ArtificialViscosity</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00017">material.cuh:17</a></div></div>
<div class="ttc" id="astruct_artificial_viscosity_html_a56176005eadd2032dee288313ef1aac7"><div class="ttname"><a href="struct_artificial_viscosity.html#a56176005eadd2032dee288313ef1aac7">ArtificialViscosity::alpha</a></div><div class="ttdeci">real alpha</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00027">material.cuh:27</a></div></div>
<div class="ttc" id="astruct_artificial_viscosity_html_a618e59eb7922f24f6239133b588eabf4"><div class="ttname"><a href="struct_artificial_viscosity.html#a618e59eb7922f24f6239133b588eabf4">ArtificialViscosity::beta</a></div><div class="ttdeci">real beta</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00028">material.cuh:28</a></div></div>
<div class="ttc" id="astruct_eq_of_st_html"><div class="ttname"><a href="struct_eq_of_st.html">EqOfSt</a></div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00034">material.cuh:34</a></div></div>
<div class="ttc" id="astruct_eq_of_st_html_a200c9ed258eed6836aea8d5837672c5f"><div class="ttname"><a href="struct_eq_of_st.html#a200c9ed258eed6836aea8d5837672c5f">EqOfSt::polytropic_K</a></div><div class="ttdeci">real polytropic_K</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00045">material.cuh:45</a></div></div>
<div class="ttc" id="astruct_eq_of_st_html_a62fb78ac6e160a5311d2864793036a14"><div class="ttname"><a href="struct_eq_of_st.html#a62fb78ac6e160a5311d2864793036a14">EqOfSt::polytropic_gamma</a></div><div class="ttdeci">real polytropic_gamma</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00046">material.cuh:46</a></div></div>
<div class="ttc" id="astruct_eq_of_st_html_a988ee5d999f873472a4410e2a6ffb7cb"><div class="ttname"><a href="struct_eq_of_st.html#a988ee5d999f873472a4410e2a6ffb7cb">EqOfSt::type</a></div><div class="ttdeci">int type</div><div class="ttdef"><b>Definition:</b> <a href="material_8cuh_source.html#l00044">material.cuh:44</a></div></div>
</div><!-- fragment --><p ><a class="el" href="class_simulation_time.html">SimulationTime</a>:</p>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *dt; <span class="comment">// time step</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *startTime; <span class="comment">// start time</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *subEndTime; <span class="comment">// end time for sub-integration-step</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *endTime; <span class="comment">// simulation end time</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *currentTime; <span class="comment">// current simulation time</span></div>
<div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *dt_max; <span class="comment">// max time step</span></div>
<div class="line">...</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md46"></a>
Kernel skeleton</h2>
<div class="fragment"><div class="line"><span class="comment">//*.cuh</span></div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_kernel.html">Kernel</a> {</div>
<div class="line">  __global__ <span class="keywordtype">void</span> skeleton(Class *<span class="keyword">class</span>, <span class="keywordtype">int</span> n);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">namespace </span>Launch {</div>
<div class="line">    <span class="keywordtype">void</span> skeleton(Class *<span class="keyword">class</span>, <span class="keywordtype">int</span> n);</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//*.cu</span></div>
<div class="line">__global__ <span class="keywordtype">void</span> Kernel::skeleton(Class *<span class="keyword">class</span>, <span class="keywordtype">int</span> n) {</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> bodyIndex = threadIdx.x + blockIdx.x * blockDim.x;</div>
<div class="line">  <span class="keywordtype">int</span> stride = blockDim.x * gridDim.x;</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="map__sph__to__grid_8c.html#af4846c5e98e425a34134b06275f0a109">offset</a> = 0;</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">while</span> ((bodyIndex + <a class="code hl_variable" href="map__sph__to__grid_8c.html#af4846c5e98e425a34134b06275f0a109">offset</a>) &lt; n) {</div>
<div class="line">      <span class="keyword">class</span>-&gt;x[bodyIndex + <a class="code hl_variable" href="map__sph__to__grid_8c.html#af4846c5e98e425a34134b06275f0a109">offset</a>] = 0;</div>
<div class="line">      ...    </div>
<div class="line">         <a class="code hl_variable" href="map__sph__to__grid_8c.html#af4846c5e98e425a34134b06275f0a109">offset</a> += stride;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> Kernel::Launch::skeleton(Class *<span class="keyword">class</span>, <span class="keywordtype">int</span> n) {</div>
<div class="line">  <a class="code hl_class" href="class_execution_policy.html">ExecutionPolicy</a> executionPolicy();</div>
<div class="line">  <a class="code hl_function" href="namespacecuda.html#ae129f267f2d83118533c78c712265b58">cuda::launch</a>(<span class="keyword">false</span>, executionPolicy, ::Kernel::skeleton, <span class="keyword">class</span>, n);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">//*.cpp</span></div>
<div class="line"> </div>
<div class="line">Kernel::Launch::skeleton(<span class="keyword">class</span>, n);</div>
<div class="ttc" id="aclass_execution_policy_html"><div class="ttname"><a href="class_execution_policy.html">ExecutionPolicy</a></div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00013">cuda_launcher.cuh:13</a></div></div>
<div class="ttc" id="amap__sph__to__grid_8c_html_af4846c5e98e425a34134b06275f0a109"><div class="ttname"><a href="map__sph__to__grid_8c.html#af4846c5e98e425a34134b06275f0a109">offset</a></div><div class="ttdeci">double offset[DIM]</div><div class="ttdef"><b>Definition:</b> <a href="map__sph__to__grid_8c_source.html#l00066">map_sph_to_grid.c:66</a></div></div>
<div class="ttc" id="anamespace_kernel_html"><div class="ttname"><a href="namespace_kernel.html">Kernel</a></div><div class="ttdef"><b>Definition:</b> <a href="device__rhs_8cuh_source.html#l00007">device_rhs.cuh:7</a></div></div>
<div class="ttc" id="anamespacecuda_html_ae129f267f2d83118533c78c712265b58"><div class="ttname"><a href="namespacecuda.html#ae129f267f2d83118533c78c712265b58">cuda::launch</a></div><div class="ttdeci">real launch(bool timeKernel, const ExecutionPolicy &amp;policy, void(*f)(Arguments...), Arguments... args)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00054">cuda_launcher.cuh:54</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md47"></a>
CUDA</h2>
<div class="fragment"><div class="line"><span class="preprocessor">#ifdef __CUDACC__</span></div>
<div class="line"><span class="preprocessor">#define CUDA_CALLABLE_MEMBER __host__ __device__</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#define CUDA_CALLABLE_MEMBER</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define gpuErrorcheck(ans) { gpuAssert((ans), __FILE__, __LINE__); }</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="cuda__utilities_8cuh.html#ab3e90881a2476fd461eb2bcfcaa7cf63">gpuAssert</a>(cudaError_t code, <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_struct" href="structfile.html">file</a>, <span class="keywordtype">int</span> line, <span class="keywordtype">bool</span> abort=<span class="keyword">true</span>); {</div>
<div class="line">    <span class="keywordflow">if</span> (code != cudaSuccess)</div>
<div class="line">    {</div>
<div class="line">        fprintf(stderr,<span class="stringliteral">&quot;GPUassert: %s %s %d\n&quot;</span>, cudaGetErrorString(code), <a class="code hl_struct" href="structfile.html">file</a>, line);</div>
<div class="line">        <span class="keywordflow">if</span> (abort) getchar();</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_execution_policy.html">ExecutionPolicy</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  dim3 <a class="code hl_variable" href="class_execution_policy.html#a2958e6cf8210bb2a2701a5d63fb6bdca">gridSize</a>;</div>
<div class="line">  dim3 <a class="code hl_variable" href="class_execution_policy.html#afd2ddd86d1c9a8e9e598289c2d680a9f">blockSize</a>;</div>
<div class="line">  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="class_execution_policy.html#a9ac920b65e1586c67634628795436bad">sharedMemBytes</a>;</div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if !defined(__CUDA_ARCH__) || __CUDA_ARCH__ &gt;= 600</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">__device__ <span class="keywordtype">double</span> atomicAdd(<span class="keywordtype">double</span>* address, <span class="keywordtype">double</span> val) {</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>* address_as_ull = (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span>*)address;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <span class="keywordtype">int</span> old = *address_as_ull, assumed;</div>
<div class="line">  <span class="keywordflow">do</span> {</div>
<div class="line">    assumed = old;</div>
<div class="line">    old = atomicCAS(address_as_ull, assumed, __double_as_longlong(val + __longlong_as_double(assumed)));</div>
<div class="line">  } <span class="keywordflow">while</span> (assumed != old);</div>
<div class="line">  <span class="keywordflow">return</span> __longlong_as_double(old);</div>
<div class="line">}</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacecuda.html">cuda</a> {</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="namespacecuda.html#ae129f267f2d83118533c78c712265b58">launch</a>(<span class="keywordtype">bool</span> timeKernel, <span class="keyword">const</span> <a class="code hl_class" href="class_execution_policy.html">ExecutionPolicy</a> &amp;policy, <span class="keywordtype">void</span> (*f)(Arguments...), Arguments... args) {</div>
<div class="line">    f&lt;&lt;&lt;<a class="code hl_variable" href="map__sph__to__grid_8c.html#a3f1c0a90efc4ed86c4fe31e787c8e90a">p</a>.gridSize, <a class="code hl_variable" href="map__sph__to__grid_8c.html#a3f1c0a90efc4ed86c4fe31e787c8e90a">p</a>.blockSize, <a class="code hl_variable" href="map__sph__to__grid_8c.html#a3f1c0a90efc4ed86c4fe31e787c8e90a">p</a>.sharedMemBytes&gt;&gt;&gt;(args...); </div>
<div class="line">  }</div>
<div class="line">                    </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a87a2b33c156d39ce0a77f845e5988724">copy</a>(T *h_var, T *d_var, std::size_t count = 1, <a class="code hl_enumeration" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49">To::Target</a> copyTo = <a class="code hl_enumvalue" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49a735db37a80f139d4b224511e7ecc25b6">To::device</a>) {</div>
<div class="line">    <span class="keywordflow">switch</span> (copyTo) {</div>
<div class="line">      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49a735db37a80f139d4b224511e7ecc25b6">To::device</a>: {</div>
<div class="line">        <a class="code hl_define" href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a>(cudaMemcpy(d_var, h_var, count * <span class="keyword">sizeof</span>(T), cudaMemcpyHostToDevice));</div>
<div class="line">      } <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49aa3ed940c793ec6b033a1412d3d87c0d6">To::host</a>: {</div>
<div class="line">        <a class="code hl_define" href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a>(cudaMemcpy(h_var, d_var, count * <span class="keyword">sizeof</span>(T), cudaMemcpyDeviceToHost));</div>
<div class="line">      } <span class="keywordflow">break</span>;</div>
<div class="line">      <span class="keywordflow">default</span>: {</div>
<div class="line">        printf(<span class="stringliteral">&quot;cuda::copy Target not available!\n&quot;</span>);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">set</a>(T *d_var, T val, std::size_t count = 1) {</div>
<div class="line">    <a class="code hl_define" href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a>(cudaMemset(d_var, val, count * <span class="keyword">sizeof</span>(T)));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#aba186b2049cc77c289e110a45edab71a">malloc</a>(T *&amp;d_var, std::size_t count) {</div>
<div class="line">    <a class="code hl_define" href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a>(cudaMalloc((<span class="keywordtype">void</span>**)&amp;d_var, count * <span class="keyword">sizeof</span>(T)));</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a9a0da8d4e84b94a6893faafbc8cc6dd9">free</a>(T *d_var) {</div>
<div class="line">    <a class="code hl_define" href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a>(cudaFree(d_var));</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keyword">namespace </span>math {</div>
<div class="line">    __device__ <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="namespacecuda_1_1math.html#a129d30e886ca3c7cb2c9b209ce208076">min</a>(<a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> a, <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> b) {</div>
<div class="line"><span class="preprocessor">#if SINGLE_PRECISION</span></div>
<div class="line">      <span class="keywordflow">return</span> fminf(a, b);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">      <span class="keywordflow">return</span> fmin(a, b);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    }</div>
<div class="line">    __device__ <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="namespacecuda_1_1math.html#a706200a3f1b2445d7fd835c2ac504a11">sqrt</a>(<a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> a) {</div>
<div class="line"><span class="preprocessor">#if SINGLE_PRECISION</span></div>
<div class="line">      <span class="keywordflow">return</span> sqrtf(a);</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line">      <a class="code hl_function" href="namespacecuda_1_1math.html#a706200a3f1b2445d7fd835c2ac504a11">return ::sqrt</a>(a);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    }</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_execution_policy_html_a2958e6cf8210bb2a2701a5d63fb6bdca"><div class="ttname"><a href="class_execution_policy.html#a2958e6cf8210bb2a2701a5d63fb6bdca">ExecutionPolicy::gridSize</a></div><div class="ttdeci">dim3 gridSize</div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00019">cuda_launcher.cuh:19</a></div></div>
<div class="ttc" id="aclass_execution_policy_html_a9ac920b65e1586c67634628795436bad"><div class="ttname"><a href="class_execution_policy.html#a9ac920b65e1586c67634628795436bad">ExecutionPolicy::sharedMemBytes</a></div><div class="ttdeci">size_t sharedMemBytes</div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00021">cuda_launcher.cuh:21</a></div></div>
<div class="ttc" id="aclass_execution_policy_html_afd2ddd86d1c9a8e9e598289c2d680a9f"><div class="ttname"><a href="class_execution_policy.html#afd2ddd86d1c9a8e9e598289c2d680a9f">ExecutionPolicy::blockSize</a></div><div class="ttdeci">dim3 blockSize</div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00020">cuda_launcher.cuh:20</a></div></div>
<div class="ttc" id="acuda__utilities_8cuh_html_aaac1c24ae9df6e95c57eba046e11953d"><div class="ttname"><a href="cuda__utilities_8cuh.html#aaac1c24ae9df6e95c57eba046e11953d">gpuErrorcheck</a></div><div class="ttdeci">#define gpuErrorcheck(ans)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__utilities_8cuh_source.html#l00018">cuda_utilities.cuh:18</a></div></div>
<div class="ttc" id="acuda__utilities_8cuh_html_ab3e90881a2476fd461eb2bcfcaa7cf63"><div class="ttname"><a href="cuda__utilities_8cuh.html#ab3e90881a2476fd461eb2bcfcaa7cf63">gpuAssert</a></div><div class="ttdeci">void gpuAssert(cudaError_t code, const char *file, int line, bool abort=true)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__utilities_8cu_source.html#l00021">cuda_utilities.cu:21</a></div></div>
<div class="ttc" id="anamespacecuda_1_1math_html_a129d30e886ca3c7cb2c9b209ce208076"><div class="ttname"><a href="namespacecuda_1_1math.html#a129d30e886ca3c7cb2c9b209ce208076">cuda::math::min</a></div><div class="ttdeci">__device__ real min(real a, real b)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__utilities_8cu_source.html#l00414">cuda_utilities.cu:414</a></div></div>
<div class="ttc" id="anamespacecuda_1_1math_html_a706200a3f1b2445d7fd835c2ac504a11"><div class="ttname"><a href="namespacecuda_1_1math.html#a706200a3f1b2445d7fd835c2ac504a11">cuda::math::sqrt</a></div><div class="ttdeci">__device__ real sqrt(real a)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__utilities_8cu_source.html#l00456">cuda_utilities.cu:456</a></div></div>
<div class="ttc" id="anamespacecuda_html"><div class="ttname"><a href="namespacecuda.html">cuda</a></div><div class="ttdef"><b>Definition:</b> <a href="cuda__launcher_8cuh_source.html#l00052">cuda_launcher.cuh:52</a></div></div>
<div class="ttc" id="anamespacecuda_html_a87a2b33c156d39ce0a77f845e5988724"><div class="ttname"><a href="namespacecuda.html#a87a2b33c156d39ce0a77f845e5988724">cuda::copy</a></div><div class="ttdeci">void copy(T *h_var, T *d_var, std::size_t count=1, To::Target copyTo=To::device)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00010">cuda_runtime.h:10</a></div></div>
<div class="ttc" id="anamespacecuda_html_a96edb690f1eb4317fc5a936169735bfc"><div class="ttname"><a href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">cuda::set</a></div><div class="ttdeci">void set(T *d_var, T val, std::size_t count=1)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00026">cuda_runtime.h:26</a></div></div>
<div class="ttc" id="anamespacecuda_html_a9a0da8d4e84b94a6893faafbc8cc6dd9"><div class="ttname"><a href="namespacecuda.html#a9a0da8d4e84b94a6893faafbc8cc6dd9">cuda::free</a></div><div class="ttdeci">void free(T *d_var)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00036">cuda_runtime.h:36</a></div></div>
<div class="ttc" id="anamespacecuda_html_aba186b2049cc77c289e110a45edab71a"><div class="ttname"><a href="namespacecuda.html#aba186b2049cc77c289e110a45edab71a">cuda::malloc</a></div><div class="ttdeci">void malloc(T *&amp;d_var, std::size_t count)</div><div class="ttdef"><b>Definition:</b> <a href="cuda__runtime_8h_source.html#l00031">cuda_runtime.h:31</a></div></div>
<div class="ttc" id="astruct_to_html_a82e3c3ef1bbdd48b77f63af4813b6e49"><div class="ttname"><a href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49">To::Target</a></div><div class="ttdeci">Target</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00161">parameter.h:162</a></div></div>
<div class="ttc" id="astruct_to_html_a82e3c3ef1bbdd48b77f63af4813b6e49a735db37a80f139d4b224511e7ecc25b6"><div class="ttname"><a href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49a735db37a80f139d4b224511e7ecc25b6">To::device</a></div><div class="ttdeci">@ device</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00164">parameter.h:163</a></div></div>
<div class="ttc" id="astruct_to_html_a82e3c3ef1bbdd48b77f63af4813b6e49aa3ed940c793ec6b033a1412d3d87c0d6"><div class="ttname"><a href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49aa3ed940c793ec6b033a1412d3d87c0d6">To::host</a></div><div class="ttdeci">@ host</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00163">parameter.h:163</a></div></div>
<div class="ttc" id="astructfile_html"><div class="ttname"><a href="structfile.html">file</a></div><div class="ttdef"><b>Definition:</b> <a href="map__sph__to__grid_8c_source.html#l00034">map_sph_to_grid.c:34</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md48"></a>
Handler</h2>
<div class="fragment"><div class="line"><span class="comment">// foo.cuh/cu</span></div>
<div class="line"><span class="keyword">class </span>Foo {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">int</span> *a;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *b;</div>
<div class="line">  ...</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_define" href="cuda__utilities_8cuh.html#abaa3393ea5f1f52b7fdfde2beec133b7">CUDA_CALLABLE_MEMBER</a> Foo() {}</div>
<div class="line">  <a class="code hl_define" href="cuda__utilities_8cuh.html#abaa3393ea5f1f52b7fdfde2beec133b7">CUDA_CALLABLE_MEMBER</a> Foo(<span class="keywordtype">int</span> *a, <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *b) : a{a}, b{b} {}</div>
<div class="line">  <a class="code hl_define" href="cuda__utilities_8cuh.html#abaa3393ea5f1f52b7fdfde2beec133b7">CUDA_CALLABLE_MEMBER</a> <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">set</a>(<span class="keywordtype">int</span> *a, <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *b) {</div>
<div class="line">    this-&gt;a = a;</div>
<div class="line">    this-&gt;b = b;</div>
<div class="line">  }</div>
<div class="line">  <a class="code hl_define" href="cuda__utilities_8cuh.html#abaa3393ea5f1f52b7fdfde2beec133b7">CUDA_CALLABLE_MEMBER</a> ~Foo() {}</div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>FooNS {</div>
<div class="line">  <span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_kernel.html">Kernel</a> {</div>
<div class="line">  __global__ <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">set</a>(Foo *foo, <span class="keywordtype">int</span> *a, <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *b) {</div>
<div class="line">    foo-&gt;set(foo, a, b);</div>
<div class="line">  }</div>
<div class="line">    <span class="keyword">namespace </span>Launch {</div>
<div class="line">      <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">set</a>(Foo *foo, <span class="keywordtype">int</span> *a, <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *b) {</div>
<div class="line">        <a class="code hl_class" href="class_execution_policy.html">ExecutionPolicy</a> executionPolicy(1, 1);</div>
<div class="line">        <a class="code hl_function" href="namespacecuda.html#ae129f267f2d83118533c78c712265b58">cuda::launch</a>(<span class="keyword">false</span>, executionPolicy, ::FooNS::, foo, a, b);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// foo_handler.cuh/cu</span></div>
<div class="line"><span class="keyword">class </span>FooHandler {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">int</span> *h_a;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *h_b;</div>
<div class="line">  Foo *h_foo;</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">int</span> *d_a;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *d_b;</div>
<div class="line">  Foo *d_foo;</div>
<div class="line">  </div>
<div class="line">  FooHandler(<span class="keywordtype">int</span> n) {</div>
<div class="line">    h_a = <span class="keyword">new</span> <span class="keywordtype">int</span>[n];</div>
<div class="line">    h_b = <span class="keyword">new</span> <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>[n];</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#aba186b2049cc77c289e110a45edab71a">cuda::malloc</a>(d_a, n);</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#aba186b2049cc77c289e110a45edab71a">cuda::malloc</a>(d_b, n);</div>
<div class="line">    </div>
<div class="line">    h_foo = <span class="keyword">new</span> Foo();</div>
<div class="line">    h_foo-&gt;set(h_a, h_b);</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#aba186b2049cc77c289e110a45edab71a">cuda::malloc</a>(d_foo, 1);</div>
<div class="line">    FooNS::Kernel::Launch(d_foo, d_a, d_b);</div>
<div class="line">    </div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  ~FooHandler() {</div>
<div class="line">    <span class="keyword">delete</span> [] h_a;</div>
<div class="line">    <span class="keyword">delete</span> [] h_b;</div>
<div class="line">    <span class="keyword">delete</span> h_foo;</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a9a0da8d4e84b94a6893faafbc8cc6dd9">cuda::free</a>(d_a);</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a9a0da8d4e84b94a6893faafbc8cc6dd9">cuda::free</a>(d_b);</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a9a0da8d4e84b94a6893faafbc8cc6dd9">cuda::free</a>(d_foo);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="namespacecuda.html#a87a2b33c156d39ce0a77f845e5988724">copy</a>(<a class="code hl_enumeration" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49">To::Target</a> target=<a class="code hl_enumvalue" href="struct_to.html#a82e3c3ef1bbdd48b77f63af4813b6e49a735db37a80f139d4b224511e7ecc25b6">To::device</a>, <span class="keywordtype">int</span> n) {</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a87a2b33c156d39ce0a77f845e5988724">cuda::copy</a>(h_a, d_a, n, target);</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a87a2b33c156d39ce0a77f845e5988724">cuda::copy</a>(h_b, d_b, n, target);</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">FooHandler *fooHandler = <span class="keyword">new</span> FooHandler(n);</div>
<div class="line"><span class="comment">// for CPU usage</span></div>
<div class="line"><span class="comment">//  fooHandler-&gt;h_a;</span></div>
<div class="line">fooHandler-&gt;h_foo;</div>
<div class="line"><span class="comment">//  fooHandler-&gt;h_foo-&gt;a;</span></div>
<div class="line"><span class="comment">// for GPU usage</span></div>
<div class="line"><span class="comment">//  fooHandler-&gt;d_a; // e.g. for copying</span></div>
<div class="line">fooHandler-&gt;d_foo; <span class="comment">// e.g. as argument for Kernels</span></div>
<div class="line"><span class="comment">//   within kernel class attributes accessible</span></div>
<div class="line"><span class="keyword">delete</span> fooHandler;</div>
<div class="ttc" id="acuda__utilities_8cuh_html_abaa3393ea5f1f52b7fdfde2beec133b7"><div class="ttname"><a href="cuda__utilities_8cuh.html#abaa3393ea5f1f52b7fdfde2beec133b7">CUDA_CALLABLE_MEMBER</a></div><div class="ttdeci">#define CUDA_CALLABLE_MEMBER</div><div class="ttdef"><b>Definition:</b> <a href="cuda__utilities_8cuh_source.html#l00013">cuda_utilities.cuh:13</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md49"></a>
Integrator</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_miluphpc.html">Miluphpc</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_miluphpc.html#a79e77ce7b60388f4ea58e92b75bfb9de">numParticles</a>;</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">sumParticles</a>;</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a>;</div>
<div class="line">  <span class="keywordtype">int</span> <a class="code hl_variable" href="class_miluphpc.html#a55f664da3aa0a9c4ec05f36dbcf958fb">numNodes</a>;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_class" href="class_s_p_h_1_1_kernel_handler.html">SPH::KernelHandler</a> <a class="code hl_variable" href="class_miluphpc.html#acca289a9ec4477e9e0ac781fddc0590b">kernelHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_simulation_time_handler.html">SimulationTimeHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#adf0eff88f1bda011347b3d25069c95c5">simulationTimeHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_integrated_particle_handler.html">IntegratedParticleHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a9dddd78ed1c29be260fdea0e3995600f">integratedParticles</a>;</div>
<div class="line">  <a class="code hl_class" href="class_particle_handler.html">ParticleHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_sub_domain_key_tree_handler.html">SubDomainKeyTreeHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_tree_handler.html">TreeHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a810099d821ca680fe388b1e4b89264f9">treeHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_domain_list_handler.html">DomainListHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a1801a719edccfe2aca2e0cc5800bd8f3">domainListHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_domain_list_handler.html">DomainListHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a87f65f7655902428ff9e11365eebd46b">lowestDomainListHandler</a>;</div>
<div class="line">  <a class="code hl_class" href="class_material_handler.html">MaterialHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#a753135371645391bdcfd289554c4981a">materialHandler</a>;</div>
<div class="line">  <a class="code hl_struct" href="struct_simulation_parameters.html">SimulationParameters</a> <a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_class" href="class_helper_handler.html">HelperHandler</a> *<a class="code hl_variable" href="class_miluphpc.html#adbf2784251f55a3a28dedf6766a910f0">buffer</a>;</div>
<div class="line">  </div>
<div class="line">    </div>
<div class="line">  <a class="code hl_function" href="class_miluphpc.html#a61c8859aaa2165a79acce86fc7421a37">Miluphpc</a>(<a class="code hl_struct" href="struct_simulation_parameters.html">SimulationParameters</a> <a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>);</div>
<div class="line">  <a class="code hl_function" href="class_miluphpc.html#a708b8e187b02ce18a2093e2606c2a74b">~Miluphpc</a>();</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_miluphpc.html#aba782af276ff4fa28f3cab49c5df7770">prepareSimulation</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_miluphpc.html#ac0ccadbd0f18c4bbc099fdcfc45cc514">distributionFromFile</a>(<span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#aa09a87d14de5945b7c4d1d58101c8fdb">removeParticles</a>();</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#a34a795612b38b12b418440e2a92f15e8">reset</a>();</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#aeeb5a1aac1048eb56473a3e7ef859de5">boundingBox</a>();</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#a26ba2b061c83c515f077764105ee5304">tree</a>();</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#acdbc37f86a6d10d2c469957f36bcb4bc">pseudoParticles</a>();</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#ab0993abd387b7a3fc86d64567945c5c3">gravity</a>();</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#aa1b536cfb83c634caec7df4b616394e5">sph</a>();</div>
<div class="line">  </div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#a28221c4342267a38fc1495332a3d2c6a">rhs</a>(<span class="keywordtype">int</span> step, <span class="keywordtype">bool</span> selfGravity=<span class="keyword">true</span>, <span class="keywordtype">bool</span> assignParticlesToProcess=<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code hl_function" href="class_miluphpc.html#a832f4bd857871a1f03dce7e3a68aec17">integrate</a>(<span class="keywordtype">int</span> step = 0) = 0; </div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_miluphpc.html#a1b747841cf89892939631a25d4fbef2e">afterIntegrationStep</a>();</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#afa7e3a35610e5535cc26a2d4b0d10330">particles2file</a>(<span class="keywordtype">int</span> step);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_explicit_euler.html">ExplicitEuler</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_miluphpc.html">Miluphpc</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_function" href="class_explicit_euler.html#ad9c3dda69082cce10d9e57040a22a393">ExplicitEuler</a>(<a class="code hl_struct" href="struct_simulation_parameters.html">SimulationParameters</a> <a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>) : <a class="code hl_class" href="class_miluphpc.html">Miluphpc</a>(<a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>) {}</div>
<div class="line">  <a class="code hl_function" href="class_explicit_euler.html#a4aad67f59f59f667790522dd0803ee89">~ExplicitEuler</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_explicit_euler.html#ae0806733df0fb1fb0e5969faf32f94a3">integrate</a>(<span class="keywordtype">int</span> step);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_predictor_corrector_euler.html">PredictorCorrectorEuler</a> : <span class="keyword">public</span> <a class="code hl_class" href="class_miluphpc.html">Miluphpc</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_function" href="class_predictor_corrector_euler.html#a862369d060197b1c196f722b74a6dcb7">PredictorCorrectorEuler</a>(<a class="code hl_struct" href="struct_simulation_parameters.html">SimulationParameters</a> <a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>) : <a class="code hl_class" href="class_miluphpc.html">Miluphpc</a>(<a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>) {</div>
<div class="line">    <a class="code hl_variable" href="class_miluphpc.html#a9dddd78ed1c29be260fdea0e3995600f">integratedParticles</a> = <span class="keyword">new</span> <a class="code hl_class" href="class_integrated_particle_handler.html">IntegratedParticleHandler</a>(<a class="code hl_variable" href="class_miluphpc.html#a79e77ce7b60388f4ea58e92b75bfb9de">numParticles</a>, <a class="code hl_variable" href="class_miluphpc.html#a55f664da3aa0a9c4ec05f36dbcf958fb">numNodes</a>);</div>
<div class="line">  }</div>
<div class="line">  <a class="code hl_function" href="class_predictor_corrector_euler.html#a57a46092032549ba1c8fe828f8149fa0">~PredictorCorrectorEuler</a>();</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_predictor_corrector_euler.html#a98392bdf1da0cc6350e836ee692d1f35">integrate</a>(<span class="keywordtype">int</span> step);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="class_miluphpc.html">Miluphpc</a> *miluphpc;</div>
<div class="line"><span class="comment">// miluphpc = new Miluphpc(parameters, numParticles, numNodes); // not possible since abstract class</span></div>
<div class="line"><span class="keywordflow">switch</span> (parameters.integratorSelection) {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_integrator_selection.html#a22b2e895a1a87c3aabe7afd055a51603aa20a546aab07cfbb4759b7b666fd6c89">IntegratorSelection::explicit_euler</a>: {</div>
<div class="line">    miluphpc = <span class="keyword">new</span> <a class="code hl_class" href="class_explicit_euler.html">ExplicitEuler</a>(parameters);</div>
<div class="line">  } <span class="keywordflow">break</span>;</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="struct_integrator_selection.html#a22b2e895a1a87c3aabe7afd055a51603ab6b89bb451f7e40db68d285f49ea3d93">IntegratorSelection::predictor_corrector_euler</a>: {</div>
<div class="line">    miluphpc = <span class="keyword">new</span> <a class="code hl_class" href="class_predictor_corrector_euler.html">PredictorCorrectorEuler</a>(parameters);</div>
<div class="line">  } <span class="keywordflow">break</span>;</div>
<div class="line">  <span class="keywordflow">default</span>: {<span class="comment">// exit ...}</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line">miluphpc-&gt;integrate(i_step);</div>
<div class="line">...</div>
<div class="ttc" id="aclass_domain_list_handler_html"><div class="ttname"><a href="class_domain_list_handler.html">DomainListHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="subdomain__handler_8h_source.html#l00081">subdomain_handler.h:81</a></div></div>
<div class="ttc" id="aclass_explicit_euler_html"><div class="ttname"><a href="class_explicit_euler.html">ExplicitEuler</a></div><div class="ttdef"><b>Definition:</b> <a href="explicit__euler_8h_source.html#l00007">explicit_euler.h:7</a></div></div>
<div class="ttc" id="aclass_explicit_euler_html_a4aad67f59f59f667790522dd0803ee89"><div class="ttname"><a href="class_explicit_euler.html#a4aad67f59f59f667790522dd0803ee89">ExplicitEuler::~ExplicitEuler</a></div><div class="ttdeci">~ExplicitEuler()</div><div class="ttdef"><b>Definition:</b> <a href="explicit__euler_8cpp_source.html#l00013">explicit_euler.cpp:13</a></div></div>
<div class="ttc" id="aclass_explicit_euler_html_ad9c3dda69082cce10d9e57040a22a393"><div class="ttname"><a href="class_explicit_euler.html#ad9c3dda69082cce10d9e57040a22a393">ExplicitEuler::ExplicitEuler</a></div><div class="ttdeci">ExplicitEuler(SimulationParameters simulationParameters)</div><div class="ttdef"><b>Definition:</b> <a href="explicit__euler_8cpp_source.html#l00009">explicit_euler.cpp:9</a></div></div>
<div class="ttc" id="aclass_explicit_euler_html_ae0806733df0fb1fb0e5969faf32f94a3"><div class="ttname"><a href="class_explicit_euler.html#ae0806733df0fb1fb0e5969faf32f94a3">ExplicitEuler::integrate</a></div><div class="ttdeci">void integrate(int step)</div><div class="ttdef"><b>Definition:</b> <a href="explicit__euler_8cpp_source.html#l00017">explicit_euler.cpp:17</a></div></div>
<div class="ttc" id="aclass_helper_handler_html"><div class="ttname"><a href="class_helper_handler.html">HelperHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="helper__handler_8h_source.html#l00009">helper_handler.h:9</a></div></div>
<div class="ttc" id="aclass_integrated_particle_handler_html"><div class="ttname"><a href="class_integrated_particle_handler.html">IntegratedParticleHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00406">particle_handler.h:406</a></div></div>
<div class="ttc" id="aclass_material_handler_html"><div class="ttname"><a href="class_material_handler.html">MaterialHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="material__handler_8h_source.html#l00034">material_handler.h:34</a></div></div>
<div class="ttc" id="aclass_miluphpc_html"><div class="ttname"><a href="class_miluphpc.html">Miluphpc</a></div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00057">miluphpc.h:57</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a1801a719edccfe2aca2e0cc5800bd8f3"><div class="ttname"><a href="class_miluphpc.html#a1801a719edccfe2aca2e0cc5800bd8f3">Miluphpc::domainListHandler</a></div><div class="ttdeci">DomainListHandler * domainListHandler</div><div class="ttdoc">Instance to handle the DomainList instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00256">miluphpc.h:256</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a1b747841cf89892939631a25d4fbef2e"><div class="ttname"><a href="class_miluphpc.html#a1b747841cf89892939631a25d4fbef2e">Miluphpc::afterIntegrationStep</a></div><div class="ttdeci">void afterIntegrationStep()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00465">miluphpc.cpp:465</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a25f5add3551272933e4ec733bc8bed03"><div class="ttname"><a href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">Miluphpc::particleHandler</a></div><div class="ttdeci">ParticleHandler * particleHandler</div><div class="ttdoc">Instance to handle the Particles instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00250">miluphpc.h:250</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a26ba2b061c83c515f077764105ee5304"><div class="ttname"><a href="class_miluphpc.html#a26ba2b061c83c515f077764105ee5304">Miluphpc::tree</a></div><div class="ttdeci">real tree()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00840">miluphpc.cpp:840</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a28221c4342267a38fc1495332a3d2c6a"><div class="ttname"><a href="class_miluphpc.html#a28221c4342267a38fc1495332a3d2c6a">Miluphpc::rhs</a></div><div class="ttdeci">real rhs(int step, bool selfGravity=true, bool assignParticlesToProcess=true)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00288">miluphpc.cpp:288</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a34a795612b38b12b418440e2a92f15e8"><div class="ttname"><a href="class_miluphpc.html#a34a795612b38b12b418440e2a92f15e8">Miluphpc::reset</a></div><div class="ttdeci">real reset()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00568">miluphpc.cpp:568</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a55f664da3aa0a9c4ec05f36dbcf958fb"><div class="ttname"><a href="class_miluphpc.html#a55f664da3aa0a9c4ec05f36dbcf958fb">Miluphpc::numNodes</a></div><div class="ttdeci">integer numNodes</div><div class="ttdoc">number of nodes (to be allocated)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00237">miluphpc.h:237</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a61c8859aaa2165a79acce86fc7421a37"><div class="ttname"><a href="class_miluphpc.html#a61c8859aaa2165a79acce86fc7421a37">Miluphpc::Miluphpc</a></div><div class="ttdeci">Miluphpc(SimulationParameters simulationParameters)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00003">miluphpc.cpp:3</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a708b8e187b02ce18a2093e2606c2a74b"><div class="ttname"><a href="class_miluphpc.html#a708b8e187b02ce18a2093e2606c2a74b">Miluphpc::~Miluphpc</a></div><div class="ttdeci">~Miluphpc()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00084">miluphpc.cpp:84</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a753135371645391bdcfd289554c4981a"><div class="ttname"><a href="class_miluphpc.html#a753135371645391bdcfd289554c4981a">Miluphpc::materialHandler</a></div><div class="ttdeci">MaterialHandler * materialHandler</div><div class="ttdoc">Instance to handle Materials instances on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00260">miluphpc.h:260</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a761a9be1a44e974453d2ec17752b4c1b"><div class="ttname"><a href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">Miluphpc::subDomainKeyTreeHandler</a></div><div class="ttdeci">SubDomainKeyTreeHandler * subDomainKeyTreeHandler</div><div class="ttdoc">Instance to handle the SubDomainKeyTree instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00252">miluphpc.h:252</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a79e77ce7b60388f4ea58e92b75bfb9de"><div class="ttname"><a href="class_miluphpc.html#a79e77ce7b60388f4ea58e92b75bfb9de">Miluphpc::numParticles</a></div><div class="ttdeci">integer numParticles</div><div class="ttdoc">number of particles (to be allocated)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00226">miluphpc.h:226</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a810099d821ca680fe388b1e4b89264f9"><div class="ttname"><a href="class_miluphpc.html#a810099d821ca680fe388b1e4b89264f9">Miluphpc::treeHandler</a></div><div class="ttdeci">TreeHandler * treeHandler</div><div class="ttdoc">Instance to handle the Tree instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00254">miluphpc.h:254</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a832f4bd857871a1f03dce7e3a68aec17"><div class="ttname"><a href="class_miluphpc.html#a832f4bd857871a1f03dce7e3a68aec17">Miluphpc::integrate</a></div><div class="ttdeci">virtual void integrate(int step=0)=0</div></div>
<div class="ttc" id="aclass_miluphpc_html_a87f65f7655902428ff9e11365eebd46b"><div class="ttname"><a href="class_miluphpc.html#a87f65f7655902428ff9e11365eebd46b">Miluphpc::lowestDomainListHandler</a></div><div class="ttdeci">DomainListHandler * lowestDomainListHandler</div><div class="ttdoc">Instance to handle the (lowest) DomainList instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00258">miluphpc.h:258</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_a9dddd78ed1c29be260fdea0e3995600f"><div class="ttname"><a href="class_miluphpc.html#a9dddd78ed1c29be260fdea0e3995600f">Miluphpc::integratedParticles</a></div><div class="ttdeci">IntegratedParticleHandler * integratedParticles</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00246">miluphpc.h:246</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_aa09a87d14de5945b7c4d1d58101c8fdb"><div class="ttname"><a href="class_miluphpc.html#aa09a87d14de5945b7c4d1d58101c8fdb">Miluphpc::removeParticles</a></div><div class="ttdeci">real removeParticles()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l02493">miluphpc.cpp:2493</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_aa1b536cfb83c634caec7df4b616394e5"><div class="ttname"><a href="class_miluphpc.html#aa1b536cfb83c634caec7df4b616394e5">Miluphpc::sph</a></div><div class="ttdeci">real sph()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l01791">miluphpc.cpp:1791</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_ab0993abd387b7a3fc86d64567945c5c3"><div class="ttname"><a href="class_miluphpc.html#ab0993abd387b7a3fc86d64567945c5c3">Miluphpc::gravity</a></div><div class="ttdeci">real gravity()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l01103">miluphpc.cpp:1103</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_ab40227f656a96808e4eca94cbae79280"><div class="ttname"><a href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">Miluphpc::simulationParameters</a></div><div class="ttdeci">SimulationParameters simulationParameters</div><div class="ttdoc">collected information required to set up the simulation</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00290">miluphpc.h:290</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_aba782af276ff4fa28f3cab49c5df7770"><div class="ttname"><a href="class_miluphpc.html#aba782af276ff4fa28f3cab49c5df7770">Miluphpc::prepareSimulation</a></div><div class="ttdeci">void prepareSimulation()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00231">miluphpc.cpp:231</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_ac0ccadbd0f18c4bbc099fdcfc45cc514"><div class="ttname"><a href="class_miluphpc.html#ac0ccadbd0f18c4bbc099fdcfc45cc514">Miluphpc::distributionFromFile</a></div><div class="ttdeci">void distributionFromFile(const std::string &amp;filename)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00145">miluphpc.cpp:145</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_aca7079ec6043e22f4bd675306a9c16d8"><div class="ttname"><a href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">Miluphpc::numParticlesLocal</a></div><div class="ttdeci">integer numParticlesLocal</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00235">miluphpc.h:235</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_acca289a9ec4477e9e0ac781fddc0590b"><div class="ttname"><a href="class_miluphpc.html#acca289a9ec4477e9e0ac781fddc0590b">Miluphpc::kernelHandler</a></div><div class="ttdeci">SPH::KernelHandler kernelHandler</div><div class="ttdoc">Instance to handle the SPH Kernel instance on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00221">miluphpc.h:221</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_acdbc37f86a6d10d2c469957f36bcb4bc"><div class="ttname"><a href="class_miluphpc.html#acdbc37f86a6d10d2c469957f36bcb4bc">Miluphpc::pseudoParticles</a></div><div class="ttdeci">real pseudoParticles()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00940">miluphpc.cpp:940</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_adbf2784251f55a3a28dedf6766a910f0"><div class="ttname"><a href="class_miluphpc.html#adbf2784251f55a3a28dedf6766a910f0">Miluphpc::buffer</a></div><div class="ttdeci">HelperHandler * buffer</div><div class="ttdoc">buffer (need for revising)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00266">miluphpc.h:266</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_addc6c51d97834912b6a8c12fc3e3dfae"><div class="ttname"><a href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">Miluphpc::sumParticles</a></div><div class="ttdeci">integer sumParticles</div><div class="ttdoc">(real) number of particles on all processes</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00228">miluphpc.h:228</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_adf0eff88f1bda011347b3d25069c95c5"><div class="ttname"><a href="class_miluphpc.html#adf0eff88f1bda011347b3d25069c95c5">Miluphpc::simulationTimeHandler</a></div><div class="ttdeci">SimulationTimeHandler * simulationTimeHandler</div><div class="ttdoc">Instance to handle the SimulationTime instances on device and host.</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8h_source.html#l00223">miluphpc.h:223</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_aeeb5a1aac1048eb56473a3e7ef859de5"><div class="ttname"><a href="class_miluphpc.html#aeeb5a1aac1048eb56473a3e7ef859de5">Miluphpc::boundingBox</a></div><div class="ttdeci">real boundingBox()</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l00610">miluphpc.cpp:610</a></div></div>
<div class="ttc" id="aclass_miluphpc_html_afa7e3a35610e5535cc26a2d4b0d10330"><div class="ttname"><a href="class_miluphpc.html#afa7e3a35610e5535cc26a2d4b0d10330">Miluphpc::particles2file</a></div><div class="ttdeci">real particles2file(int step)</div><div class="ttdef"><b>Definition:</b> <a href="miluphpc_8cpp_source.html#l02711">miluphpc.cpp:2711</a></div></div>
<div class="ttc" id="aclass_particle_handler_html"><div class="ttname"><a href="class_particle_handler.html">ParticleHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00016">particle_handler.h:16</a></div></div>
<div class="ttc" id="aclass_predictor_corrector_euler_html"><div class="ttname"><a href="class_predictor_corrector_euler.html">PredictorCorrectorEuler</a></div><div class="ttdef"><b>Definition:</b> <a href="predictor__corrector__euler_8h_source.html#l00009">predictor_corrector_euler.h:9</a></div></div>
<div class="ttc" id="aclass_predictor_corrector_euler_html_a57a46092032549ba1c8fe828f8149fa0"><div class="ttname"><a href="class_predictor_corrector_euler.html#a57a46092032549ba1c8fe828f8149fa0">PredictorCorrectorEuler::~PredictorCorrectorEuler</a></div><div class="ttdeci">~PredictorCorrectorEuler()</div><div class="ttdef"><b>Definition:</b> <a href="predictor__corrector__euler_8cpp_source.html#l00032">predictor_corrector_euler.cpp:32</a></div></div>
<div class="ttc" id="aclass_predictor_corrector_euler_html_a862369d060197b1c196f722b74a6dcb7"><div class="ttname"><a href="class_predictor_corrector_euler.html#a862369d060197b1c196f722b74a6dcb7">PredictorCorrectorEuler::PredictorCorrectorEuler</a></div><div class="ttdeci">PredictorCorrectorEuler(SimulationParameters simulationParameters)</div><div class="ttdef"><b>Definition:</b> <a href="predictor__corrector__euler_8cpp_source.html#l00003">predictor_corrector_euler.cpp:3</a></div></div>
<div class="ttc" id="aclass_predictor_corrector_euler_html_a98392bdf1da0cc6350e836ee692d1f35"><div class="ttname"><a href="class_predictor_corrector_euler.html#a98392bdf1da0cc6350e836ee692d1f35">PredictorCorrectorEuler::integrate</a></div><div class="ttdeci">void integrate(int step)</div></div>
<div class="ttc" id="aclass_s_p_h_1_1_kernel_handler_html"><div class="ttname"><a href="class_s_p_h_1_1_kernel_handler.html">SPH::KernelHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="kernel__handler_8cuh_source.html#l00009">kernel_handler.cuh:9</a></div></div>
<div class="ttc" id="aclass_simulation_time_handler_html"><div class="ttname"><a href="class_simulation_time_handler.html">SimulationTimeHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="simulation__time__handler_8h_source.html#l00008">simulation_time_handler.h:8</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_handler_html"><div class="ttname"><a href="class_sub_domain_key_tree_handler.html">SubDomainKeyTreeHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="subdomain__handler_8h_source.html#l00023">subdomain_handler.h:23</a></div></div>
<div class="ttc" id="aclass_tree_handler_html"><div class="ttname"><a href="class_tree_handler.html">TreeHandler</a></div><div class="ttdef"><b>Definition:</b> <a href="tree__handler_8h_source.html#l00013">tree_handler.h:13</a></div></div>
<div class="ttc" id="astruct_integrator_selection_html_a22b2e895a1a87c3aabe7afd055a51603aa20a546aab07cfbb4759b7b666fd6c89"><div class="ttname"><a href="struct_integrator_selection.html#a22b2e895a1a87c3aabe7afd055a51603aa20a546aab07cfbb4759b7b666fd6c89">IntegratorSelection::explicit_euler</a></div><div class="ttdeci">@ explicit_euler</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00220">parameter.h:220</a></div></div>
<div class="ttc" id="astruct_integrator_selection_html_a22b2e895a1a87c3aabe7afd055a51603ab6b89bb451f7e40db68d285f49ea3d93"><div class="ttname"><a href="struct_integrator_selection.html#a22b2e895a1a87c3aabe7afd055a51603ab6b89bb451f7e40db68d285f49ea3d93">IntegratorSelection::predictor_corrector_euler</a></div><div class="ttdeci">@ predictor_corrector_euler</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00221">parameter.h:220</a></div></div>
<div class="ttc" id="astruct_simulation_parameters_html"><div class="ttname"><a href="struct_simulation_parameters.html">SimulationParameters</a></div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00120">parameter.h:120</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md50"></a>
Integrated Particles</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_particles.html">Particles</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_particles.html#ab65623c55daecdf520fe921621d57bf2">mass</a>;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_particles.html#a122a9985fed39c45d3a151dba2794299">x</a>;</div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>IntegratedParticle {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *x;</div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_particle_handler.html">ParticleHandler</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_particle_handler.html#a31ceed2ff83caba9fb0d6969b60c30ce">d_mass</a> = <span class="keyword">new</span> <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>[n];</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a>;</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_particle_handler.html#ac361dd8b83d820eaea60bd4fa0730193">_d_x</a> = <span class="keyword">new</span> <span class="keywordtype">int</span>[n];</div>
<div class="line">  ...</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_particle_handler.html#ab9eaf4806ece843fa20c9980db9b2157">setPointer</a>(<a class="code hl_class" href="class_integrated_particle_handler.html">IntegratedParticleHandler</a> *integratedParticleHandler) {</div>
<div class="line">    <a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a> = integratedParticleHandler-&gt;<a class="code hl_variable" href="class_integrated_particle_handler.html#afc344d8d2013eb4097b267521aca56bd">d_x</a>;</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">ParticleNS::Kernel::Launch::set</a>(<a class="code hl_variable" href="class_particle_handler.html#a31ceed2ff83caba9fb0d6969b60c30ce">d_mass</a>, <a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a>, ...);</div>
<div class="line">    ...</div>
<div class="line">    <span class="comment">// particleHandler-&gt;d_x points to integratedParticleHandler-&gt;d_x;</span></div>
<div class="line">    <span class="comment">// particleHandler-&gt;d_particles-&gt;x points to integratedParticleHandler-&gt;d_x;</span></div>
<div class="line">  }</div>
<div class="line">  <span class="keywordtype">void</span> <a class="code hl_function" href="class_particle_handler.html#a38bb5982adf2be1ce1de9b956084f106">resetPointer</a>() {</div>
<div class="line">    <a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a> = <a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a>;</div>
<div class="line">    <a class="code hl_function" href="namespacecuda.html#a96edb690f1eb4317fc5a936169735bfc">ParticleNS::Kernel::Launch::set</a>(<a class="code hl_variable" href="class_particle_handler.html#a31ceed2ff83caba9fb0d6969b60c30ce">d_mass</a>, <a class="code hl_variable" href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">d_x</a>, ...);</div>
<div class="line">    ...</div>
<div class="line">    <span class="comment">// particleHandler-&gt;d_x points to _d_x;</span></div>
<div class="line">    <span class="comment">// particleHandler-&gt;d_particles-&gt;x points to _d_x;</span></div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="class_integrated_particle_handler.html">IntegratedParticleHandler</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *<a class="code hl_variable" href="class_integrated_particle_handler.html#afc344d8d2013eb4097b267521aca56bd">d_x</a> = <span class="keyword">new</span> <a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>[n];</div>
<div class="line">  ...</div>
<div class="line">};</div>
<div class="ttc" id="aclass_integrated_particle_handler_html_afc344d8d2013eb4097b267521aca56bd"><div class="ttname"><a href="class_integrated_particle_handler.html#afc344d8d2013eb4097b267521aca56bd">IntegratedParticleHandler::d_x</a></div><div class="ttdeci">real * d_x</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00418">particle_handler.h:418</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_a31ceed2ff83caba9fb0d6969b60c30ce"><div class="ttname"><a href="class_particle_handler.html#a31ceed2ff83caba9fb0d6969b60c30ce">ParticleHandler::d_mass</a></div><div class="ttdeci">real * d_mass</div><div class="ttdoc">device mass array</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00182">particle_handler.h:182</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_a38bb5982adf2be1ce1de9b956084f106"><div class="ttname"><a href="class_particle_handler.html#a38bb5982adf2be1ce1de9b956084f106">ParticleHandler::resetPointer</a></div><div class="ttdeci">void resetPointer()</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8cpp_source.html#l00632">particle_handler.cpp:632</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_ab9eaf4806ece843fa20c9980db9b2157"><div class="ttname"><a href="class_particle_handler.html#ab9eaf4806ece843fa20c9980db9b2157">ParticleHandler::setPointer</a></div><div class="ttdeci">void setPointer(IntegratedParticleHandler *integratedParticleHandler)</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8cpp_source.html#l00570">particle_handler.cpp:570</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_ac361dd8b83d820eaea60bd4fa0730193"><div class="ttname"><a href="class_particle_handler.html#ac361dd8b83d820eaea60bd4fa0730193">ParticleHandler::_d_x</a></div><div class="ttdeci">real * _d_x</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00184">particle_handler.h:184</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_adb8bb7dcc0c332d5712138bfb3ac059d"><div class="ttname"><a href="class_particle_handler.html#adb8bb7dcc0c332d5712138bfb3ac059d">ParticleHandler::d_x</a></div><div class="ttdeci">real * d_x</div><div class="ttdoc">device x position</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00184">particle_handler.h:184</a></div></div>
<div class="ttc" id="aclass_particles_html"><div class="ttname"><a href="class_particles.html">Particles</a></div><div class="ttdef"><b>Definition:</b> <a href="particles_8cuh_source.html#l00013">particles.cuh:13</a></div></div>
<div class="ttc" id="aclass_particles_html_a122a9985fed39c45d3a151dba2794299"><div class="ttname"><a href="class_particles.html#a122a9985fed39c45d3a151dba2794299">Particles::x</a></div><div class="ttdeci">real * x</div><div class="ttdoc">(pointer to) x position (array)</div><div class="ttdef"><b>Definition:</b> <a href="particles_8cuh_source.html#l00023">particles.cuh:23</a></div></div>
<div class="ttc" id="aclass_particles_html_ab65623c55daecdf520fe921621d57bf2"><div class="ttname"><a href="class_particles.html#ab65623c55daecdf520fe921621d57bf2">Particles::mass</a></div><div class="ttdeci">real * mass</div><div class="ttdoc">(pointer to) mass (array)</div><div class="ttdef"><b>Definition:</b> <a href="particles_8cuh_source.html#l00021">particles.cuh:21</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md51"></a>
Different things</h2>
<h3><a class="anchor" id="autotoc_md52"></a>
Particle file I/O</h3>
<div class="fragment"><div class="line"><a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> <a class="code hl_function" href="class_miluphpc.html#afa7e3a35610e5535cc26a2d4b0d10330">Miluphpc::particles2file</a>(<span class="keywordtype">int</span> step) {</div>
<div class="line"> </div>
<div class="line">  boost::mpi::communicator comm;</div>
<div class="line">  <a class="code hl_variable" href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">sumParticles</a> = <a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a>;</div>
<div class="line">  all_reduce(comm, boost::mpi::inplace_t&lt;integer*&gt;(&amp;<a class="code hl_variable" href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">sumParticles</a>), 1, std::plus&lt;integer&gt;());</div>
<div class="line">  std::stringstream stepss;</div>
<div class="line">  stepss &lt;&lt; std::setw(6) &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; step;</div>
<div class="line">  HighFive::File h5file(<a class="code hl_variable" href="class_miluphpc.html#ab40227f656a96808e4eca94cbae79280">simulationParameters</a>.<a class="code hl_variable" href="struct_simulation_parameters.html#a426284c0f3b04b059ec27c5df0092e04">directory</a> + <span class="stringliteral">&quot;ts&quot;</span> + stepss.str() + <span class="stringliteral">&quot;.h5&quot;</span>, HighFive::File::ReadWrite | HighFive::File::Create | HighFive::File::Truncate, HighFive::MPIOFileDriver(MPI_COMM_WORLD, MPI_INFO_NULL));</div>
<div class="line"> </div>
<div class="line">  std::vector &lt;size_t&gt; dataSpaceDims(2);</div>
<div class="line">  dataSpaceDims[0] = std::size_t(<a class="code hl_variable" href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">sumParticles</a>);</div>
<div class="line">  dataSpaceDims[1] = <a class="code hl_define" href="parameter_8h.html#ac25189db92959bff3c6c2adf4c34b50a">DIM</a>;</div>
<div class="line">    </div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">  HighFive::DataSet h5_pos = h5file.createDataSet&lt;<a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>&gt;(<span class="stringliteral">&quot;/x&quot;</span>, HighFive::DataSpace(dataSpaceDims));</div>
<div class="line">    HighFive::DataSet h5_mass = h5file.createDataSet&lt;<a class="code hl_typedef" href="parameter_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a>&gt;(<span class="stringliteral">&quot;/m&quot;</span>, HighFive::DataSpace(<a class="code hl_variable" href="class_miluphpc.html#addc6c51d97834912b6a8c12fc3e3dfae">sumParticles</a>));</div>
<div class="line">  ...</div>
<div class="line">    </div>
<div class="line">  std::vector&lt;std::vector&lt;real&gt;&gt; x;</div>
<div class="line">  std::vector&lt;real&gt; mass;</div>
<div class="line">    </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;<a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a>; i++) {</div>
<div class="line">    x.push_back({<a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#ab3de74017840e79e90902206e95fca41">h_x</a>[i], <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#a4ed9ad47e8359a43d98567dfe6809fe6">h_y</a>[i], <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#acaaa52d7911adc4bc36fbecfda9ae2a0">h_z</a>[i]});</div>
<div class="line">    mass.push_back(<a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#ab506854fe5fb35a49a6d2f8599ae9dd8">h_mass</a>[i]);</div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// receive buffer</span></div>
<div class="line">  <span class="keywordtype">int</span> procN[<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#af2a6c8155e7aa2cacaf08b6a6119f36c">numProcesses</a>];</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// send buffer</span></div>
<div class="line">  <span class="keywordtype">int</span> sendProcN[<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#af2a6c8155e7aa2cacaf08b6a6119f36c">numProcesses</a>];</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> proc=0; proc&lt;<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#af2a6c8155e7aa2cacaf08b6a6119f36c">numProcesses</a>; proc++){</div>
<div class="line">    sendProcN[proc] = <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#ad364fe0bf3c4c29e3e7c403e1fef200b">rank</a> == proc ? <a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a> : 0;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  all_reduce(comm, sendProcN, <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#af2a6c8155e7aa2cacaf08b6a6119f36c">numProcesses</a>, procN, boost::mpi::maximum&lt;integer&gt;());</div>
<div class="line"> </div>
<div class="line">  std::size_t nOffset = 0;</div>
<div class="line">  <span class="comment">// count total particles on other processes</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> proc = 0; proc &lt; <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#ad364fe0bf3c4c29e3e7c403e1fef200b">rank</a>; proc++){</div>
<div class="line">    nOffset += procN[proc];</div>
<div class="line">  }</div>
<div class="line">    </div>
<div class="line">  h5_pos.select({nOffset, 0}, {std::size_t(<a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a>), std::size_t(<a class="code hl_define" href="parameter_8h.html#ac25189db92959bff3c6c2adf4c34b50a">DIM</a>)}).write(x);</div>
<div class="line">  h5_mass.select({nOffset}, {std::size_t(<a class="code hl_variable" href="class_miluphpc.html#aca7079ec6043e22f4bd675306a9c16d8">numParticlesLocal</a>)}).write(mass);</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="ttc" id="aclass_particle_handler_html_a4ed9ad47e8359a43d98567dfe6809fe6"><div class="ttname"><a href="class_particle_handler.html#a4ed9ad47e8359a43d98567dfe6809fe6">ParticleHandler::h_y</a></div><div class="ttdeci">real * h_y</div><div class="ttdoc">host y position</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00036">particle_handler.h:36</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_ab3de74017840e79e90902206e95fca41"><div class="ttname"><a href="class_particle_handler.html#ab3de74017840e79e90902206e95fca41">ParticleHandler::h_x</a></div><div class="ttdeci">real * h_x</div><div class="ttdoc">host x position</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00028">particle_handler.h:28</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_ab506854fe5fb35a49a6d2f8599ae9dd8"><div class="ttname"><a href="class_particle_handler.html#ab506854fe5fb35a49a6d2f8599ae9dd8">ParticleHandler::h_mass</a></div><div class="ttdeci">real * h_mass</div><div class="ttdoc">host mass</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00026">particle_handler.h:26</a></div></div>
<div class="ttc" id="aclass_particle_handler_html_acaaa52d7911adc4bc36fbecfda9ae2a0"><div class="ttname"><a href="class_particle_handler.html#acaaa52d7911adc4bc36fbecfda9ae2a0">ParticleHandler::h_z</a></div><div class="ttdeci">real * h_z</div><div class="ttdoc">host z position</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00044">particle_handler.h:44</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_handler_html_a8eff80b6829f442572d7c8d3ad4f0e25"><div class="ttname"><a href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">SubDomainKeyTreeHandler::h_subDomainKeyTree</a></div><div class="ttdeci">SubDomainKeyTree * h_subDomainKeyTree</div><div class="ttdoc">host instance of class SubDomainKeyTree</div><div class="ttdef"><b>Definition:</b> <a href="subdomain__handler_8h_source.html#l00046">subdomain_handler.h:46</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_html_ad364fe0bf3c4c29e3e7c403e1fef200b"><div class="ttname"><a href="class_sub_domain_key_tree.html#ad364fe0bf3c4c29e3e7c403e1fef200b">SubDomainKeyTree::rank</a></div><div class="ttdeci">integer rank</div><div class="ttdoc">MPI rank.</div><div class="ttdef"><b>Definition:</b> <a href="subdomain_8cuh_source.html#l00047">subdomain.cuh:47</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_html_af2a6c8155e7aa2cacaf08b6a6119f36c"><div class="ttname"><a href="class_sub_domain_key_tree.html#af2a6c8155e7aa2cacaf08b6a6119f36c">SubDomainKeyTree::numProcesses</a></div><div class="ttdeci">integer numProcesses</div><div class="ttdoc">MPI number of processes.</div><div class="ttdef"><b>Definition:</b> <a href="subdomain_8cuh_source.html#l00049">subdomain.cuh:49</a></div></div>
<div class="ttc" id="aparameter_8h_html_ac25189db92959bff3c6c2adf4c34b50a"><div class="ttname"><a href="parameter_8h.html#ac25189db92959bff3c6c2adf4c34b50a">DIM</a></div><div class="ttdeci">#define DIM</div><div class="ttdoc">Dimension of the problem.</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00038">parameter.h:38</a></div></div>
<div class="ttc" id="astruct_simulation_parameters_html_a426284c0f3b04b059ec27c5df0092e04"><div class="ttname"><a href="struct_simulation_parameters.html#a426284c0f3b04b059ec27c5df0092e04">SimulationParameters::directory</a></div><div class="ttdeci">std::string directory</div><div class="ttdef"><b>Definition:</b> <a href="parameter_8h_source.html#l00121">parameter.h:121</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md53"></a>
Reading input file</h2>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="class_miluphpc.html#ac0ccadbd0f18c4bbc099fdcfc45cc514">Miluphpc::distributionFromFile</a>(<span class="keyword">const</span> std::string&amp; filename) {</div>
<div class="line"> </div>
<div class="line">  HighFive::File <a class="code hl_struct" href="structfile.html">file</a>(filename.c_str(), HighFive::File::ReadOnly);</div>
<div class="line"> </div>
<div class="line">  std::vector&lt;real&gt; m;</div>
<div class="line">  std::vector&lt;std::vector&lt;real&gt;&gt; x;</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// read datasets from file</span></div>
<div class="line">  HighFive::DataSet mass = <a class="code hl_struct" href="structfile.html">file</a>.getDataSet(<span class="stringliteral">&quot;/m&quot;</span>);</div>
<div class="line">  HighFive::DataSet pos = <a class="code hl_struct" href="structfile.html">file</a>.getDataSet(<span class="stringliteral">&quot;/x&quot;</span>);</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">  mass.read(m);</div>
<div class="line">  pos.read(x);</div>
<div class="line">  ...</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> ppp = m.size()/<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#ad8faf8f3fc1020c024f3ad207d4ea549">h_numProcesses</a>;</div>
<div class="line">  <span class="keywordtype">int</span> ppp_remnant = m.size() % <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#ad8faf8f3fc1020c024f3ad207d4ea549">h_numProcesses</a>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">int</span> startIndex = <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a8eff80b6829f442572d7c8d3ad4f0e25">h_subDomainKeyTree</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree.html#ad364fe0bf3c4c29e3e7c403e1fef200b">rank</a> * ppp;</div>
<div class="line">  <span class="keywordtype">int</span> endIndex = (<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a4d49d58558596f63fddc156e69e8381e">h_rank</a> + 1) * ppp;</div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a4d49d58558596f63fddc156e69e8381e">h_rank</a> == (<a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#ad8faf8f3fc1020c024f3ad207d4ea549">h_numProcesses</a> - 1)) {</div>
<div class="line">    endIndex += ppp_remnant;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = startIndex; j &lt; endIndex; j++) {</div>
<div class="line">    <span class="keywordtype">int</span> i = j - <a class="code hl_variable" href="class_miluphpc.html#a761a9be1a44e974453d2ec17752b4c1b">subDomainKeyTreeHandler</a>-&gt;<a class="code hl_variable" href="class_sub_domain_key_tree_handler.html#a4d49d58558596f63fddc156e69e8381e">h_rank</a> * ppp;</div>
<div class="line">    <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#a80f0598054ecb272e4303bd0974de9fc">h_particles</a>-&gt;<a class="code hl_variable" href="class_particles.html#ab65623c55daecdf520fe921621d57bf2">mass</a>[i] = m[j];</div>
<div class="line">    <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#a80f0598054ecb272e4303bd0974de9fc">h_particles</a>-&gt;<a class="code hl_variable" href="class_particles.html#a122a9985fed39c45d3a151dba2794299">x</a>[i] = x[j][0];</div>
<div class="line"><span class="preprocessor">#if DIM &gt; 1</span></div>
<div class="line">    <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#a80f0598054ecb272e4303bd0974de9fc">h_particles</a>-&gt;<a class="code hl_variable" href="class_particles.html#a745f3d6ed2124a0c2edb724231d555eb">y</a>[i] = x[j][1];</div>
<div class="line"><span class="preprocessor">#if DIM == 3</span></div>
<div class="line">    <a class="code hl_variable" href="class_miluphpc.html#a25f5add3551272933e4ec733bc8bed03">particleHandler</a>-&gt;<a class="code hl_variable" href="class_particle_handler.html#a80f0598054ecb272e4303bd0974de9fc">h_particles</a>-&gt;<a class="code hl_variable" href="class_particles.html#abff3b199228c5f95c78d5e23ad64d2b3">z</a>[i] = x[j][2];</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">    ...</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_particle_handler_html_a80f0598054ecb272e4303bd0974de9fc"><div class="ttname"><a href="class_particle_handler.html#a80f0598054ecb272e4303bd0974de9fc">ParticleHandler::h_particles</a></div><div class="ttdeci">Particles * h_particles</div><div class="ttdoc">host instance of particles class</div><div class="ttdef"><b>Definition:</b> <a href="particle__handler_8h_source.html#l00332">particle_handler.h:332</a></div></div>
<div class="ttc" id="aclass_particles_html_a745f3d6ed2124a0c2edb724231d555eb"><div class="ttname"><a href="class_particles.html#a745f3d6ed2124a0c2edb724231d555eb">Particles::y</a></div><div class="ttdeci">real * y</div><div class="ttdoc">(pointer to) y position (array)</div><div class="ttdef"><b>Definition:</b> <a href="particles_8cuh_source.html#l00030">particles.cuh:30</a></div></div>
<div class="ttc" id="aclass_particles_html_abff3b199228c5f95c78d5e23ad64d2b3"><div class="ttname"><a href="class_particles.html#abff3b199228c5f95c78d5e23ad64d2b3">Particles::z</a></div><div class="ttdeci">real * z</div><div class="ttdoc">(pointer to) z position (array)</div><div class="ttdef"><b>Definition:</b> <a href="particles_8cuh_source.html#l00037">particles.cuh:37</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_handler_html_a4d49d58558596f63fddc156e69e8381e"><div class="ttname"><a href="class_sub_domain_key_tree_handler.html#a4d49d58558596f63fddc156e69e8381e">SubDomainKeyTreeHandler::h_rank</a></div><div class="ttdeci">integer h_rank</div><div class="ttdoc">host MPI rank</div><div class="ttdef"><b>Definition:</b> <a href="subdomain__handler_8h_source.html#l00027">subdomain_handler.h:27</a></div></div>
<div class="ttc" id="aclass_sub_domain_key_tree_handler_html_ad8faf8f3fc1020c024f3ad207d4ea549"><div class="ttname"><a href="class_sub_domain_key_tree_handler.html#ad8faf8f3fc1020c024f3ad207d4ea549">SubDomainKeyTreeHandler::h_numProcesses</a></div><div class="ttdeci">integer h_numProcesses</div><div class="ttdoc">host MPI number of processes</div><div class="ttdef"><b>Definition:</b> <a href="subdomain__handler_8h_source.html#l00029">subdomain_handler.h:29</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
  <hr class="footer"/><address class="footer"><small>
    milupHPC  - Concepts<br />
    Generated on Thu Feb 10 2022 17:28:33 by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.9.3
  </small></address>
</body>
<footer>
  <custom-footer color="white" background="#2E4053">
    <div first>first: more content to add</div>
    <div second>second: bla bla bla</div>
    <div third>third: more content to add</div>
  </custom-footer>
</footer>
<!--
<script src="components/side-nav/runtime.js" type="module"></script><script src="components/side-nav/polyfills.js" type="module"></script><script src="components/side-nav/main.js" type="module"></script>
-->
<script src="components/hamburger/runtime.js" type="module"></script><script src="components/hamburger/polyfills.js" type="module"></script><script src="components/hamburger/main.js" type="module"></script>
<script src="components/header/runtime.js" type="module"></script><script src="components/header/polyfills.js" type="module"></script><script src="components/header/main.js" type="module"></script>
<script src="components/icons/runtime.js" type="module"></script><script src="components/icons/polyfills.js" type="module"></script><script src="components/icons/main.js" type="module"></script>
<script src="components/footer/runtime.js" type="module"></script><script src="components/footer/polyfills.js" type="module"></script><script src="components/footer/main.js" type="module"></script>
<script src="components/dialog/runtime.js" type="module"></script><script src="components/dialog/polyfills.js" type="module"></script><script src="components/dialog/main.js" type="module"></script>
<script>
  function toggle() {
    var elem = document.getElementById("side-nav");
    console.log(elem);
    elem.toggleSideNav(false);
  }
</script>
<!--
<script>
  function topFunction() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }
</script>
-->
</html>